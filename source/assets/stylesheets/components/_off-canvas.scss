// Off Canvas Navigation
//
// Originally based on:
// https://github.com/freshyill/Responsive-Off-Canvas-Navigation
$nav-width:       20rem;
$nav-color:       $medium-gray;
$nav-background:  $dark-gray;
$nav-font:        $heading-font-family;

// Nav Position accepts values of "left" and "right"
// Default is right
$nav-position:     right;

body {
  background-color: $nav-background;
}

@mixin off-canvas-nav($nav-position) {
  // Mobile first
  @include transition($base-transition);
  @include display(flex);
  @include flex-direction(column);
  @include align-items(space-between);
  @include justify-content(center);
  @include media($large-screen-up) { width: $nav-width; }

  &.visible {
    @include transform(translateX(0)); overflow: auto;
    ~ a.nav-primary-trigger { @extend %inverse-link; }
  }

  background-color: $nav-background;
  color: $nav-color;
  font-family: $nav-font;

  height: 100vh;
  overflow: hidden;
  padding: 2rem;
  position: fixed;

  width: 100vw;  // nav is fullscreen on small sizes
  z-index: 2000; // probably overkill

  // Conditionally assign position based on left or right option
  @if $nav-position == "left" {
    @include transform(translateX(-100%));
    left: 0;
  } @else {
    @include transform(translateX(100%));
    right: 0;
  }

  @include media($large-screen-up) {
    &.visible {
      ~ .main-content {
        @if $nav-position == "left" {
          @include transform(translateX($nav-width));
        } @else {
          @include transform(translateX(-$nav-width));
        }
      }
    }
  }
}

// Template styles

.main-content {
  @include transition($base-transition);
  background-color: $base-background-color;
}

.nav-primary {
  @include off-canvas-nav(right);
  // Sidebar nav links
  a { @extend %inverse-link; }

  .toc {
    max-height: 100%;
  }

}


a.nav-primary-trigger {
  cursor: pointer;
  font-size: 2.125rem;
  position: fixed;
  top: 0;
  right: 0;
  z-index: 2000;
}
